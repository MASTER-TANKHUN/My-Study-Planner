<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"> <!-- ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà -->
    <title>StudyPlanner - Your Personal Study Planner</title> <!-- ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå -->
    <link rel="website icon"
        href="https://png.pngtree.com/png-clipart/20231219/original/pngtree-brainstorming-icon-engineering-photo-png-image_13881468.png">
    <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå -->
    <link rel="stylesheet" href="style.css"> <!-- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå CSS -->
    <link rel="stylesheet" href="loading.css"> <!-- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏´‡∏•‡∏î -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" /> <!-- Font Awesome ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô -->
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app-compat.js"></script> <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-auth-compat.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore-compat.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.2.6/dist/purify.min.js"></script>
    <!-- DOMPurify for sanitizing inputs -->

    <script>
        const FirebaseConfig = {
            apiKey: "AIzaSyFakeKey-n0th1ng-real-lolxqwerty",
            authDomain: "secret-fake-auth-domain.firebaseapp.com",
            projectId: "thisisnotarealprojectid",
            storageBucket: "fake-bucket-12345.appspot.com",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:deadbeefcafebabe1337",
            measurementId: "G-FAKEFAKE123"
        };

    </script>

    <script>
        const Skibidi = 1;
        let Sigma = Skibidi;

        function Rizz() {
            try {
                if (Skibidi - Sigma === 0) {
                    console.log("High security system is working ....");
                } else {
                    console.log("Wtf Bro?");
                }
            } catch (error) {
                console.error("üõë Error in Rizz():", error);
            }
        }

        function Huzz() {
            try {
                console.log("Encrypting system in progress... üîê");

                setTimeout(() => {
                    console.log("Encryption success ‚úÖ");
                    console.log("High security system is working ....");
                    setInterval(Rizz, 10000);
                }, 2000);

            } catch (error) {
                console.error("üõë Error in Huzz():", error);
            }
        }

        Huzz();

    </script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCdiNqIwuVkcQRvaTTzOCX2DuwDVwfV8vs",
            authDomain: "cru-mystudyplanner.firebaseapp.com",
            projectId: "cru-mystudyplanner",
            storageBucket: "cru-mystudyplanner.firebasestorage.app",
            messagingSenderId: "416004303846",
            appId: "1:416004303846:web:c9e8860c2d864cf3fa4427",
            measurementId: "G-TH4RVRQNK9"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>

    <script>
        const appKey = "AIzaSyDoNotUseThisKeyAbc1234567890";
        const configBackup = {
            apiKey: "AIzaSyRandomFakeKeyXdaswjAXIKhdsidj",
            domain: "fake-auth-domain.firebaseapp.com",
            project: "my-secret-project-ddszi1z33",
            specialToken: "super-secret-token-very-long-123456",
            isEnable: false,
            endpoints: [
                "https://api.fakeurl.com/v1/test",
                "https://useless.endpoint.com/"
            ],
            useless: "UselessStringToWasteTimeForHacker"
        };

        function neverCallMePls(param) {
            if (param === "hacker") {
                return "Access Denied!";
            }
            let result = [];
            for (let i = 0; i < param.length; i++) {
                result.push(param.charCodeAt(i) * 13);
            }
            return result.join("-");
        }

        let apiKye = "AIzaSyNotARealKeyAtAll";
        let fb_app = null;
        let something = "this_is_not_api_key_believe_me";

        function totallyRandomFunction(a, b) {
            return a * b + Math.random();
        }

        function confuseHacker(data) {
            if (typeof data === 'string') {
                return data.split('').reverse().join('');
            }
            return "You will never find the real key!";
        }

        neverCallMePls("hacker");
        totallyRandomFunction(3, 7);
        confuseHacker("firebaseConfig");
    </script>
</head>

<body>
    <!-- Loading screen -->
    <div id="loadingScreen" class="loading-overlay">
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>

        <div class="loading-container">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>

            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>

            <div class="loading-text">Loading your planner</div>
            <div class="loading-subtext">Preparing your personalized experience...</div>
        </div>
    </div>

    <nav class="navbar">
        <div class="nav-logo" id="navLogo">StudyPlanner</div> <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ-->
        <div class="theme-toggle" id="themeToggle" title="Switch Mode">
            <div class="toggle-track">
                <div class="toggle-thumb"> <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏ò‡∏µ‡∏°‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô/‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô -->
                    <span class="icon-sun"></span> <!-- ‡∏ò‡∏µ‡∏°‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô -->
                    <span class="icon-moon"></span> <!-- ‡∏ò‡∏µ‡∏°‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô -->
                </div>
            </div>
        </div>
    </nav>
    <!-- Side Navigation -->
    <div class="side-nav" id="sideNav">
        <div class="side-nav-header">Menu</div>
        <div class="side-nav-content">
            <span>Develop By MASTER-T</span>
            <ul class="side-nav-menu">
                <li id="HomeLink"><i class="fas fa-house" style="margin-right: 8px;"></i>Home</li>
                <li id="CalendarLink"><i class="fas fa-calendar" style="margin-right: 8px;"></i>Calendar</li>
                <li id="aiAssistantLink"><i class="fas fa-robot" style="margin-right: 8px;"></i>AI Assistant</li>
            </ul>
        </div>
        <div class="side-nav-footer">
            <div id="sideNavUserName">
                <span id="userNameNav"></span>
                <img id="userProfilePicNav" class="nav-profile-pic" src="" alt="Profile Picture"
                    style="width: 32px; height: 32px; border-radius: 50%; object-fit: cover; margin-left: 8px;">
            </div>
            <button id="sideNavLogout" class="side-nav-logout-btn">Logout</button>
        </div>
    </div>
    <div class="side-nav-backdrop" id="sideNavBackdrop"></div>

    <!-- Popup ‡∏™‡∏≥‡∏´‡∏ô‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâlog in -->
    <div id="loginPopup" class="popup-modal">
        <div class="popup-modal-content"> <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏û -->
            <div style="font-size:2.1rem; margin-bottom:10px; color:#4f46e5;">
                <i class="fas fa-exclamation-triangle"></i> <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
            </div>
            <h2 style="margin-bottom:6px">You are not logged in.</h2> <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
            <div style="margin-bottom:16px; color:#666;">
                Please login first. <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
            </div>
            <button id="loginPopupBtn" class="btn">OK</button> <!-- ‡∏õ‡∏∏‡πà‡∏° OK -->
        </div>
    </div>
    <main>
        <div class="container">
            <!-- Animated Background SVG -->
            <svg class="bg-svg-pattern" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"
                preserveAspectRatio="none">
                <circle cx="15" cy="20" r="10" fill="rgba(99, 102, 241, 0.05)" class="svg-float-1" />
                <circle cx="85" cy="75" r="18" fill="rgba(139, 92, 246, 0.05)" class="svg-float-2" />
                <polygon points="50,15 55,25 45,25" fill="rgba(99, 102, 241, 0.04)" class="svg-float-3" />
                <path d="M 0 50 Q 25 30 50 50 T 100 50" fill="none" stroke="rgba(139, 92, 246, 0.05)" stroke-width="0.5"
                    class="svg-float-4" />
                <circle cx="50" cy="50" r="35" fill="none" stroke="rgba(99, 102, 241, 0.03)" stroke-width="0.2"
                    stroke-dasharray="2,2" class="svg-dash-spin" />
            </svg>

            <div class="header">
                <h1 class="logo">My Study Planner</h1>
                <p class="subtitle">Keep track of your assignments and study goals</p>
            </div>

            <div class="main-content">
                <div class="card">
                    <h2 class="card-title">Add New Task</h2>
                    <form id="taskForm">
                        <div class="input-group">
                            <label for="taskTitle">What do you need to study? *</label>
                            <input type="text" id="taskTitle" class="input-field"
                                placeholder="Write your assignment or topic here" required>
                        </div>
                        <div class="input-group">
                            <label for="taskSubject">Subject *</label>
                            <input type="text" id="taskSubject" class="input-field"
                                placeholder="Math, English, Science, etc." required>
                        </div>
                        <div class="input-group">
                            <label for="taskDue">When is it due? *</label>
                            <input type="date" id="taskDue" class="input-field" required>
                        </div>
                        <div class="input-group">
                            <label for="taskPriority">How important is this? *</label>
                            <select id="taskPriority" class="input-field" required>
                                <option value="low">Not urgent</option>
                                <option value="medium" selected>Pretty important</option>
                                <option value="high">Super urgent!</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="taskDescription">Additional Details</label>
                            <textarea id="taskDescription" class="input-field"
                                placeholder="Add any additional notes, requirements, or details about this task..."
                                rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn">Add to my list</button>
                    </form>
                </div>
                <div class="card">
                    <h2 class="card-title">My Tasks</h2>
                    <div id="taskList" class="task-list">
                        <div class="empty-state">
                            <div class="empty-state-icon">üìù</div>
                            <p>Nothing here yet! Add your first task to get started.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalTasks">0</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedTasks">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingTasks">0</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completionRate">0%</div>
                    <div class="stat-label">Progress</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Task Detail Popup HTML (Moved outside main flex containers for proper fixed positioning) -->
    <div id="taskDetailPopup" class="task-detail-popup">
        <div class="task-detail-content">
            <div class="task-detail-header">
                <h2 class="task-detail-title">Task Details</h2>
                <button class="close-popup-btn" id="closeTaskDetail">&times;</button>
            </div>

            <form class="task-detail-form" id="taskDetailForm">
                <div class="input-group">
                    <label for="editTaskTitle">Task Title *</label>
                    <input type="text" id="editTaskTitle" class="input-field" required>
                </div>

                <div class="input-group">
                    <label for="editTaskSubject">Subject *</label>
                    <input type="text" id="editTaskSubject" class="input-field" required>
                </div>

                <div class="input-group">
                    <label for="editTaskDue">Due Date *</label>
                    <input type="date" id="editTaskDue" class="input-field" required>
                </div>

                <div class="input-group">
                    <label for="editTaskPriority">Priority *</label>
                    <select id="editTaskPriority" class="input-field" required>
                        <option value="low">Not urgent</option>
                        <option value="medium">Pretty important</option>
                        <option value="high">Super urgent!</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="editTaskDescription">Additional Details</label>
                    <textarea id="editTaskDescription" class="input-field"
                        placeholder="Add any additional notes, requirements, or details about this task..."
                        rows="4"></textarea>
                </div>

                <div class="task-detail-actions">
                    <button type="button" class="btn btn-secondary" id="cancelTaskEdit">Cancel</button>
                    <button type="submit" class="btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
    <footer class="site-footer">
        <div class="footer-main">
            <a href="https://github.com/MASTER-TANKHUN" class="footer-dev underline-ani" target="_blank" rel="noopener">
                Develop By MASTER T
            </a>
        </div>
        <div class="footer-socials">
            <a class="social-circle fa-brands fa-github " href="https://github.com/MASTER-TANKHUN" target="_blank"
                rel="noopener" title="GitHub"></a>
            <a class="social-circle fa-brands fa-instagram" href="https://www.instagram.com/tankhun1452/"
                target="_blank" rel="noopener" title="Instagram"></a>
        </div>
        <div class="footer-ref">
            <a href="https://www.cru.ac.th/" class="footer-cru underline-ani" target="_blank" rel="noopener">
                CRU Independent Study M4/12
            </a>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="https://kit.fontawesome.com/a807b74b0a.js"></script>
</body>

</html>